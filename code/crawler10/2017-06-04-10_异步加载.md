---
layout: post
categories: [crawler]
title: 异步加载
date: 2117-06-04
author: TTyb
desc: "10.异步加载"
showdate: 2017-06-04
---

上文有提到 **异步加载** 的情况，所以本文要来抓取异步加载的网页，首选的是百度图片。大家都知道，百度图片是下拉的时候才加载后面的图片，在不使用 `selenium` 的情况下如何构造 `url` ？首先用 `firefox` 打开百度图片， `F12` ，输入关键词 **图片** ，拉下拉框，当第一次加载图片的时候停止下拉，看以看到出现了一个带有 `action` 的 `url` ：

```
http://image.baidu.com/search/acjson?tn=resultjson_com&ipn=rj&ct=201326592&is=&fp=result&queryWord=图片&cl=2&lm=-1&ie=utf-8&oe=utf-8&adpicid=&st=-1&z=&ic=0&word=图片&s=&se=&tab=&width=&height=&face=0&istype=2&qc=&nc=1&fr=&pn=30&rn=30&gsm=10000000000001e&1496668633422=
```

这个 `url` 里面包含的 **参数** 信息为：

```
"1496668633422":"",
"adpicid":"",
"cl":"2",
"ct":"201326592",
"face":"0",
"fp":"result",
"fr":"",
"gsm":"10000000000001e",
"height":"",
"ic":"0",
"ie":"utf-8",
"ipn":"rj",
"is":"",
"istype":"2",
"lm":"-1",
"nc":"1",
"oe":"utf-8",
"pn":"30",
"qc":"",
"queryWord":"图片",
"rn":"30",
"s":"",
"se":"",
"st":"-1",
"tab":"",
"tn":"resultjson_com",
"width":"",
"word":"图片",
"z":"
```



<p style="text-align:center"><img  src="/img/crawler9/result1.jpg"/></p>

# 练习

```
利用selenium手机模式，用模拟键盘搜索关键词TTyb，找到 “百哥么么哒|个人网站”，获取首页的html
```

# 源码

<a href="/code/crawler9/crawler9.py" target="_blank">crawler9.py</a>

<a href="/code/crawler9/answer.py" target="_blank">练习答案</a>